{"version":3,"sources":["webpack:///./src/utils/utils.js","webpack:///./src/utils/http.js","webpack:///./src/utils/openApp.js","webpack:///./src/controller/pushUrl.js","webpack:///./src/controller/main.js"],"names":["utils","msg","document","querySelector","html","createElement","className","innerHTML","min","length","style","cssText","body","appendChild","setTimeout","removeChild","e","t","RegExp","r","window","location","search","substr","match","decodeURIComponent","date","day","d","Date","setDate","getDate","time","getFullYear","getMonth","getHours","getMinutes","getSeconds","phone","toString","replace","navigator","userAgent","toLowerCase","url","this","isIos","console","log","webkit","messageHandlers","pushUrl","postMessage","isAndroid","json","JSON","stringify","InviteJs","axios","defaults","baseURL","conf","method","headers","Content-Type","data","content","head","OSVersion","appVersion","channel","clientModel","device_type","packageName","uuid","key","setupWebViewJavascriptBridge","callback","WebViewJavascriptBridge","WVJBCallbacks","push","WVJBIframe","display","src","documentElement","interceptors","request","use","config","error","Promise","reject","response","http","resolve","get","params","then","res","catch","err","post","code","toast","responseData","statusCode","callbackName","reqData","bridge","callHandler","loadData","share","shareTitle","shareContent","shareImageUrl","miniProgramPath","shareUrl","downloadLink","openAppLink","utils_openApp","open","href","download","controller_pushUrl","str","getUrl","isApp","encodeURIComponent","ckeck","val","$","imgCode","smsCode","test","hide","text","show","hasClass","click","stopPropagation","toggleClass","siblings","launch","img","_this","type","imgcode","timer","setInterval","clearInterval","counter","msgcode","getUrlParam","invite_uid"],"mappings":"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","file":"./static/js/main.0b621b9416384c6ad686.js","sourcesContent":["import { util } from \"node-forge\";\r\n\r\nclass Utils{\r\n    //弹窗\r\n    toast(msg){\r\n        if(document.querySelector('.toast')){\r\n            return;\r\n        }\r\n        var html=document.createElement('div');\r\n        html.className='toast';\r\n        html.innerHTML=msg;\r\n        var min='';\r\n        if(msg.length>10){\r\n            min='min-width:60%';\r\n        }\r\n        html.style.cssText=`padding:10px 15px;background:rgba(0,0,0,.7);color:#fff;text-align:center;position:fixed;z-index:99999;top:50%;left:50%;transform:translate(-50%,-50%);max-widh:90%;border-radius:5px;font-size:14px;${min}`;\r\n        document.body.appendChild(html);\r\n        setTimeout(()=>{\r\n            document.body.removeChild(html);\r\n        },2000);\r\n    }\r\n    //获取url参数\r\n    getUrlParam(e) {\r\n        var t = new RegExp(\"(^|&)\" + e + \"=([^&]*)(&|$)\"),\r\n            r = window.location.search.substr(1).match(t);\r\n        return null != r ? decodeURIComponent(r[2]) : null\r\n    }\r\n    //获取某一天\r\n    getSomeDate(date,day){\r\n        var d=new Date(date)\r\n        return d.setDate(d.getDate()+day);\r\n    }\r\n    //格式化时间\r\n    dateFormat(time){\r\n        var d='';\r\n        if(time){\r\n            d=new Date(time)\r\n        }else{\r\n            d=new date();\r\n        }\r\n        var y=d.getFullYear();\r\n        var m=(d.getMonth()+1)>10?d.getMonth()+1:'0'+d.getMonth()+1;\r\n        var day=d.getDate()>10?d.getDate():'0'+d.getDate();\r\n        var h=d.getHours()>0?d.getHours():'0'+d.getHours();\r\n        var min=d.getMinutes()>10?d.getMinutes():'0'+d.getMinutes();\r\n        var s=d.getSeconds()>10?d.getSeconds():'0'+d.getSeconds();\r\n        return `${y}/${m}/${day} ${h}:${min}:${s}`\r\n        \r\n    }\r\n    //手机号脱敏\r\n    replacePhone(phone){\r\n        phone=phone.toString();\r\n        return phone.replace(/^(\\d{3})\\d{4}(\\d+)/,\"$1****$2\");\r\n    }\r\n    //判断ios\r\n    isIos(){\r\n        return navigator.userAgent.match(/(iPad|iPhone)/)\r\n    }\r\n    //判断安卓\r\n    isAndroid(){\r\n        return navigator.userAgent.match(/(Android)/)\r\n    }\r\n    //判断微信环境\r\n    isWeixin(){\r\n        return \"micromessenger\" == navigator.userAgent.toLowerCase().match(/MicroMessenger/i);\r\n    }\r\n    //判断财喵星球app环境\r\n    isApp(){\r\n       return navigator.userAgent.match(/(WDBrowser)/ig);\r\n    }\r\n    //调用app路由跳转\r\n    pushUrl(url){\r\n        if(this.isIos()){\r\n            console.log(url)\r\n            window.webkit.messageHandlers.pushUrl.postMessage({url});\r\n        }else if(this.isAndroid()){\r\n            var json=JSON.stringify({url})\r\n            window.InviteJs.pushUrl(json);\r\n        }\r\n    }\r\n    \r\n}\r\nexport default new Utils();\n\n\n// WEBPACK FOOTER //\n// ./src/utils/utils.js","import axios from 'axios'\r\nimport utils from './utils'\r\naxios.defaults.baseURL='https://carta.caimiaowanka.com';\r\n\r\nlet conf = {\r\n    url:'',\r\n    method:'get',\r\n    baseURL:'http://dev.wdjzt88.com',\r\n    headers:{'Content-Type':'application/json;charset=UTF-8'},\r\n    data:{\r\n        \"body\": {\r\n            \"content\": {},\r\n            \"head\": {\r\n                \"OSVersion\": \"A7.1.1\",\r\n                \"appVersion\": \"10.0.6\",\r\n                \"channel\": \"sqtes\",\r\n                \"clientModel\": \"h5\",\r\n                \"device_type\": \"h5\",\r\n                \"packageName\": \"com.caimiao.wanka\",\r\n                \"uuid\": \"87E8C1AA-D643-4266-B308-DA348EC9F591\"\r\n            }\r\n        },\r\n        \"key\": \"b5a627b993e7b9f66381b6ce5abc7b82\"\r\n    }\r\n}\r\n\r\n// 添加请求拦截器\r\naxios.interceptors.request.use(function (config) {\r\n    // 在发送请求之前做些什么\r\n    return config;\r\n  }, function (error) {\r\n    // 对请求错误做些什么\r\n    return Promise.reject(error);\r\n  });\r\n\r\n// 添加响应拦截器\r\naxios.interceptors.response.use((response)=> {\r\n    // 对响应数据做点什么\r\n    return response;\r\n  }, (error)=> {\r\n    // 对响应错误做点什么\r\n    return Promise.reject(error);\r\n  });\r\n\r\nclass Http {\r\n    get(url,data){\r\n        return new Promise((resolve,reject)=>{\r\n            axios.get(url,{params:data}).then(res=>{\r\n                resolve(res.data);\r\n            }).catch(err=>{\r\n                reject(err)\r\n            })\r\n        }) \r\n    }\r\n    post(url,data){\r\n        return new Promise((resolve,reject)=>{\r\n            axios.post(url,{params:data}).then(res=>{\r\n                resolve(res);\r\n            }).catch(err=>{\r\n                reject(err);\r\n            })\r\n        }) \r\n    }\r\n    //带报文请求\r\n    postData(url,data){\r\n        conf.url=url;\r\n        conf.data.body.content=data;\r\n        conf.method='post';\r\n        return new Promise((resolve,reject)=>{\r\n            axios(conf).then(res=>{\r\n                if(!res){\r\n                    utils.toast('请检查网络')\r\n                    \r\n                    return;\r\n                }\r\n                if(res&&res.data.code==500){\r\n                    reject(res)\r\n                    utils.toast(res.data.msg);\r\n                    return;\r\n                }\r\n                resolve({responseData:res.data.body.content,statusCode:res.data.body.statusCode})\r\n            }).catch(err=>{\r\n                utils.toast('网络错误')\r\n                console.log(err)\r\n                reject(err)\r\n            })\r\n        }) \r\n    }\r\n    //调用app方法请求数据\r\n    //调用方式：http.loadData({url:'/app/user/info',reqData:{},callback:'loadDataGetInfoCallback'})\r\n    loadData(url,data,callbackName){\r\n        let json = {\r\n            reqData: data,\r\n            url: url,\r\n            callback: callbackName\r\n          }\r\n        if(utils.isIos()){\r\n            setupWebViewJavascriptBridge(function (bridge) {\r\n                bridge.callHandler('LOAD_DATA', json);\r\n              })\r\n        }else if(utils.isAndroid()){\r\n            var reqData = JSON.stringify(json.reqData);\r\n            window.InviteJs.loadData(json.url, reqData, json.callback);\r\n        }\r\n    }\r\n    //调用app分享方法\r\n    shareData(json){\r\n        if(utils.isIos()){\r\n            setupWebViewJavascriptBridge(function (bridge) {\r\n                bridge.callHandler('SHARE_ACTION', json);\r\n              })\r\n        }else if(utils.isAndroid()){\r\n            window.InviteJs.share(json.shareTitle, json.shareContent, json.shareImageUrl, json.miniProgramPath, json.shareUrl, json.callback);\r\n        }\r\n    }\r\n\r\n}\r\n// function checkStatus(res){\r\n//     if(!res){\r\n//         utils.toast('网络异常')\r\n//         return '';\r\n//     }\r\n//     if(res&&(res.status==200||res.status==304||res.status==400)){\r\n//        return {responseData:res.data.body.content,statusCode:res.data.body.statusCode};\r\n//     }\r\n// }\r\n\r\nfunction setupWebViewJavascriptBridge(callback) {\r\n    if (window.WebViewJavascriptBridge) {\r\n      return callback(WebViewJavascriptBridge)\r\n    }\r\n    if (window.WVJBCallbacks) {\r\n      return window.WVJBCallbacks.push(callback)\r\n    }\r\n    window.WVJBCallbacks = [callback]\r\n    var WVJBIframe = document.createElement('iframe')\r\n    WVJBIframe.style.display = 'none'\r\n    WVJBIframe.src = 'https://__bridge_loaded__'\r\n    document.documentElement.appendChild(WVJBIframe)\r\n    setTimeout(function () {\r\n      document.documentElement.removeChild(WVJBIframe)\r\n    }, 0)\r\n  }\r\n\r\n  export default new Http();\n\n\n// WEBPACK FOOTER //\n// ./src/utils/http.js","var downloadLink = 'http://a.app.qq.com/o/simple.jsp?pkgname=com.qian.xiao.er'\r\nvar openAppLink = 'qianxiaoer://launch'\r\n\r\nfunction openApp () {\r\n  window.location.href = openAppLink\r\n  setTimeout(function () {\r\n    window.location.href = downloadLink\r\n  }, 1000)\r\n}\r\nfunction download () {\r\n  window.location.href = downloadLink\r\n}\r\nexport default {\r\n  open: openApp,\r\n  download: download\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/openApp.js","import utils from '../utils/utils'\r\nexport default {\r\n    pushUrl(str){\r\n        switch (str) {\r\n            case '交通银行':\r\n            this.getUrl('/bankInfo?id=28&name=交通银行')\r\n            break;\r\n            case '民生银行':\r\n            this.getUrl('/bankInfo?id=32&name=民生银行')\r\n            break;\r\n            case '上海银行':\r\n            this.getUrl('/creditCardInfo?id=10021&name=上海银行标准卡金卡')\r\n            break;\r\n            case '招商银行':\r\n            this.getUrl('/creditCardInfo?id=10024&name=招商YOUNG卡青年版')\r\n            break;\r\n            case '浦发银行':\r\n            utils.toast('敬请期待')\r\n            break;\r\n            case '光大银行':\r\n            this.getUrl('/creditCardInfo?id=10018&name=光大凯撒旅游白金卡')\r\n            break;\r\n            case '兴业银行':\r\n            this.getUrl('/bankInfo?id=34&name=兴业银行')\r\n            break;\r\n        }\r\n    },\r\n    getUrl(url){\r\n        //location.href='https://h5.caimiaowanka.com'+url\r\n        if(utils.isApp()){\r\n            utils.pushUrl('/common/webView/&url='+encodeURIComponent('https://h5.caimiaowanka.com'+url))\r\n        }else{\r\n            location.href='https://h5.caimiaowanka.com'+url\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/controller/pushUrl.js","import '../css/reset.less';\r\nimport '../css/main.less';\r\nimport http from '../utils/http'\r\nimport utils from '../utils/utils';\r\nimport launch from '../utils/openApp'\r\nimport pushUrl from './pushUrl'\r\n$('.close').click(function(){\r\n    $('.reg-toast').hide();\r\n})\r\n$('.reg-toast').click(function(){\r\n    $(this).hide();\r\n})\r\n$('.toast-box .box').click(function(e){\r\n    e.stopPropagation();\r\n    \r\n})\r\n\r\n//check\r\n$('#check').click(function(){\r\n    $(this).toggleClass('check')\r\n})\r\n\r\n//跳转到对应银行页面\r\n$('.reg-btn').click(function(){\r\n    pushUrl.pushUrl($(this).siblings('h2').text())\r\n})\r\n\r\n//toast\r\n$('.reg-button').click(function(){\r\n    //app环境跳转到首页\r\n    if(utils.isApp()){\r\n        if(utils.isIos()){\r\n            window.webkit.messageHandlers.pushUrl.postMessage({url:'/'});\r\n        }else if(utils.isAndroid()){\r\n            var json=JSON.stringify({url:'/rebate'})\r\n            window.InviteJs.pushUrl(json);\r\n        }\r\n    }else{\r\n        $('.reg-toast').show();\r\n    }\r\n})\r\n\r\n//已注册\r\n$('.has-account').click(function(){\r\n    launch.download();\r\n})\r\n\r\n//reg获取图片验证码\r\n$('#img').click(function(){\r\n    if(!ckeck('phone')) return;\r\n        http.get(`/app/imagecode/index3`,{phone:$('#phone').val()})\r\n        .then(res=>{\r\n            var img=`<img src=\"${res}\" >`\r\n            $('#img').html(img);\r\n        })\r\n    \r\n})\r\n\r\n//获取短信验证码 ,{phone:$('#phone').val(),type:1,imgcode:$('#imgCode').val()}\r\n$('#sms').click(function(){\r\n    if(!ckeck('phone')) return;\r\n    if(!ckeck('imgCode')) return;\r\n    http.get(`/app/Captcha/web`,{phone:$('#phone').val(),type:1,imgcode:$('#imgCode').val()})\r\n    .then(res=>{\r\n        utils.toast(res.msg)\r\n        if(res.code=='error') return\r\n        if(res.code=='ok'){\r\n            $(this).hide();\r\n            counter(60);\r\n        }\r\n    })\r\n})\r\n\r\n\r\n//注册\r\n$('#register').click(function(){\r\n    if(!ckeck('phone')) return;\r\n    if(!ckeck('imgCode')) return;\r\n    if(!ckeck('smsCode')) return;\r\n    if(!ckeck('check')) return;\r\n\r\n    http.get('/app/user/h5register',{\r\n        phone:$('#phone').val(),\r\n        msgcode:$('#smsCode').val(),\r\n        channel:utils.getUrlParam('channel'),\r\n        invite_uid:utils.getUrlParam('invite_uid')\r\n    }).then(res=>{\r\n        console.log(res);\r\n        utils.toast(res.msg)\r\n        if(res.code=='error') return\r\n        if(res.code=='ok'){\r\n            $('.reg-toast').hide();\r\n            setTimeout(()=>{\r\n                launch.download();\r\n            },1000)\r\n        }\r\n    })\r\n\r\n})\r\n\r\n\r\n\r\nfunction counter(time){\r\n    $('#counter').text(time+'s').show()\r\n    var timer=setInterval(function(){\r\n        time --;\r\n        $('#counter').text(time+'s')\r\n        if(time<=0){\r\n           clearInterval(timer);\r\n           $('#counter').hide();\r\n           $('#sms').text('重新获取').show();\r\n        }\r\n    },1000)\r\n\r\n}\r\n\r\n\r\nfunction ckeck(val){\r\n    var reg_phone=/1\\d{10}/g;\r\n    var reg_img=/^\\d{4}$/;\r\n    var reg_sms=/^\\d{4}$/;\r\n    var phone=$('#phone');\r\n    var imgCode=$('#imgCode')\r\n    var smsCode=$('#smsCode')\r\n\r\n    \r\n    if(val=='phone'){\r\n        if(!phone.val()){\r\n            $('#phoneErr').text('请输入手机号码').show();\r\n            return false;\r\n        }\r\n        if(!reg_phone.test(phone.val())){\r\n            $('#phoneErr').text('请输入正确的手机号码').show();\r\n            return false;\r\n        }else{\r\n            $('#phoneErr').hide();\r\n            return true;\r\n        }\r\n    }else if(val=='imgCode'){\r\n        if(imgCode.val()){\r\n            $('#imgErr').text('请输入图形验证码').show()\r\n        }\r\n        if(!reg_img.test(imgCode.val())){\r\n            $('#imgErr').text('请输入4位数字的图形验证码').show()\r\n        }else{\r\n            $('#imgErr').hide()\r\n            return true;\r\n        }\r\n    }else if(val=='smsCode'){\r\n        if(!smsCode.val()){\r\n            $('#smsErr').text('请输入短信验证码').show()\r\n        }\r\n        if(!reg_sms.test(smsCode.val())){\r\n            $('#smsErr').text('请输入4位数字短信验证码').show()\r\n        }else{\r\n            $('#smsErr').hide();\r\n            return true;\r\n        }\r\n    }else if(val=='check'){\r\n        if($('#check').hasClass('check')){\r\n            utils.toast('请勾选用户协议')\r\n        }else{\r\n            return true\r\n        }\r\n    }   \r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/controller/main.js"],"sourceRoot":""}