webpackJsonp([12],{"0lIC":function(t,e,a){"use strict";var s={components:{},props:{htmlContent:String,imgSrc:String,desc:String},data:function(){return{}},watch:{},computed:{},methods:{},created:function(){},mounted:function(){}},o=a("XyMi");var i=function(t){a("TTjy")},n=Object(o.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.htmlContent?a("div",{staticClass:"base-info"},[a("div",[a("img",{attrs:{src:t.imgSrc}}),t._v(" "),a("span",{staticClass:"desc"},[t._v(t._s(t.desc))])]),t._v(" "),a("div",{domProps:{innerHTML:t._s(t.htmlContent)}})]):t._e()},[],!1,i,"data-v-681770d9",null);e.a=n.exports},OdQL:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Dd8w"),o=a.n(s),i=a("0lIC"),n=a("V9e1"),c=(a("N+NQ"),a("FmvK")),l=a("M4fF"),r=a.n(l),d=a("NYxO"),h={components:{CardInfoSegment:i.a,CardInfoDialog:n.a},props:{},data:function(){return{checkBoxImg:"/static/images/loan_checkbox_unselected.png",agreetProtocol:!1,bankInfo:{id:"",icon:"",categoryName1:"",categoryContent1:"",categoryName2:"",categoryContent2:"",propaganda:"",name:"",rebate:0,status:"",tag1:"",tag2:"",tag3:"",url:"",color:"",inners:1},baseRightsImgSrc:"/static/images/king_icon.png",baseRebateImgSrc:"/static/images/money_icon.png",dialogPhoneVisible:!1,dialogSmsVisible:!1,verifyImg:"",verifyCode:"",smsCode:"",phoneNo:"",phoneNoTemp:"",countDownStr:"获取短信验证码",smsBtnDisable:!1,mainTitle:""}},watch:{},computed:o()({showMid:function(){return this.categoryName1||this.bankInfo.categoryName2}},Object(d.d)({phoneNum:function(t){return t.accountInfo.phone}})),methods:o()({},Object(d.b)(["getUserInfo"]),{tapCheckBox:function(){this.agreetProtocol=!this.agreetProtocol,!0===this.agreetProtocol?this.checkBoxImg="/static/images/loan_checkbox_selected.png":this.checkBoxImg="/static/images/loan_checkbox_unselected.png"},loadImg:function(t){var e=t||0;this.$refs.topBg.style.backgroundColor=this.getColor(e)},getColor:function(t){return["#2371FF","#2371FF","#FF3F46","#43C6CD ","#FF821A"," #6E46DD"][t]},defaultClick:function(){this.dialogPhoneVisible=!1,this.dialogSmsVisible=!1},actionApply:r.a.debounce(function(){if(c.a.isWanka())c.a.GetUserID();else if(localStorage.getItem("session_id")){var t=localStorage.getItem("caiPhone");this.phoneNo=t,this.phoneNoTemp=t,this.dialogPhoneVisible=!0}else this.$toast("未登录"),this.$router.push({name:"login"})},500),getUserPhoneCallBack:function(t){this.phoneNo=t,this.phoneNoTemp=t},getUserUidCallBack:function(t){t?(this.dialogPhoneVisible=!0,c.a.GetUserPhone()):c.a.ToAppPage("/home/loginActivity",null,!0)},phoneClick:r.a.debounce(function(){this.agreetProtocol?this.checkPhone()&&(this.dialogPhoneVisible=!1,this.phoneNoTemp===this.phoneNo?this.nextStep(!1):this.loadDataForGetData("/app/rebate/addreg/needCode",{phone:this.phoneNo,type:2},"loadIsNeedCodeCallBack")):this.showToast("请先勾选返利说明")},500),loadIsNeedCodeCallBack:function(t){this.dialogPhoneVisible=!1,c.a.isWanka()?0===t.isSuccess?1===t.responseData.code?this.dialogSmsVisible=!0:0===t.responseData.code?this.nextStep(!1):this.showToast(t.responseData.msg):this.showToast(t.responseData):t.respCode>=0&&t.body.statusCode>=0?1===t.body.content.code?this.dialogSmsVisible=!0:0===t.body.content.code?this.nextStep(!1):this.showToast(t.body.content.msg):this.showToast(t.body.statusMsg)},checkPhone:function(){var t=c.a.validaePhoneNumber(this.phoneNo);return!t||(this.showToast(t),!1)},getVerifyImg:r.a.debounce(function(){this.checkPhone()&&this.loadDataForGetData("/app/imagecode/index2",{phone:this.phoneNo},"onGetVerifyImg")},500),onGetVerifyImg:function(t){c.a.isWanka()?0===t.isSuccess?t.responseData.image&&(this.verifyImg="data:image/png;base64,"+t.responseData.image):this.showToast(t.responseData):t.respCode>=0&&t.body.statusCode>=0?t.body.content.image?this.verifyImg="data:image/png;base64,"+t.body.content.image:this.showToast(t.body.content.msg):this.showToast(t.body.statusMsg)},getSmsCode:function(){this.smsBtnDisable||(this.checkPhone()&&this.verifyCode?(this.smsCountDown(),this.loadDataForGetData("/app/captcha",{phone:this.phoneNo,type:"3",imgcode:this.verifyCode},"onGetSmsCode")):this.showToast("请输入图形验证码"))},onGetSmsCode:function(t){c.a.isWanka()?0===t.isSuccess?this.showToast("验证码已发送至手机"):this.showToast(t.responseData):t.respCode>=0&&t.body.statusCode>=0?this.showToast("验证码已发送至手机"):this.showToast(t.body.statusMsg)},smsCountDown:function(){var t=this;this.timer||(this.count=60,this.timer=setInterval(function(){t.count>0&&t.count<=60?(t.smsBtnDisable=!0,t.count--,t.countDownStr=t.count+"s"):(t.smsBtnDisable=!1,clearInterval(t.timer),t.countDownStr="重新发送",t.timer=null)},1e3))},smsClick:r.a.debounce(function(){this.checkPhone()&&(this.smsCode?this.nextStep(!0):this.showToast("请输入短信验证码"))},500),finalStep:function(){this.bankInfo.url&&(c.a.isWanka()?(1==this.bankInfo.inners?c.a.ToAppPage(this.bankInfo.url,null,!1):c.a.ToBrowserFromAppPage(this.bankInfo.url),this.dialogSmsVisible=!1):window.location.href=this.bankInfo.url)},nextStep:function(t){var e={type:2,p2p_name:this.bankInfo.name,reg_account:this.phoneNo};t&&(e.code=this.smsCode),this.loadDataForGetData("/app/rebate/addregNew",e,"addregNewCallback")},addregNewCallback:function(t){c.a.isWanka()?0===t.isSuccess?this.finalStep():this.showToast(t.responseData):t.respCode>=0&&t.body.statusCode>=0?this.finalStep():this.showToast(t.body.statusMsg)},showToast:function(t){t&&this.$toast(t)},getBankInfo:function(){var t=window.location.href;t=decodeURIComponent(t.split("?")[1]);var e=(t=decodeURIComponent(t)).split("&")[0],a=t.split("&")[1],s=e.split("=")[1];this.mainTitle=a.split("=")[1],this.loadData("/app/bank/getBankById",{id:s},"getBankInfoCallBack")},getBankInfoCallBack:function(t){t.responseData&&(t=t.responseData),t.bank&&(this.bankInfo=t.bank,this.loadImg(t.bank.color))}}),created:function(){this.getUserInfo(),this.loadData=this.$http.loadData,this.loadDataForGetData=this.$http.loadDataForGetData,top.window.getBankInfoCallBack=this.getBankInfoCallBack,top.window.getUserPhoneCallBack=this.getUserPhoneCallBack,top.window.getUserUidCallBack=this.getUserUidCallBack,top.window.onGetVerifyImg=this.onGetVerifyImg,top.window.onGetSmsCode=this.onGetSmsCode,top.window.loadIsNeedCodeCallBack=this.loadIsNeedCodeCallBack,top.window.addregNewCallback=this.addregNewCallback,this.getBankInfo()},mounted:function(){}},g=a("XyMi");var p=function(t){a("mhok")},m=Object(g.a)(h,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"title",rawName:"v-title",value:t.mainTitle,expression:"mainTitle"}],staticClass:"bk-info-container"},[a("div",{ref:"topBg",staticClass:"bank-top"},[a("div",{staticClass:"card-img"},[t.bankInfo.icon?a("img",{ref:"myImg",attrs:{src:t.bankInfo.icon,onerror:"javascript:this.src='/static/images/bank_default.jpg';"}}):t._e()]),t._v(" "),a("div",{staticClass:"top-right"},[a("div",{staticClass:"top"},[a("span",{staticClass:"bank-name"},[t._v(t._s(t.bankInfo.name))]),t._v(" "),a("span",{staticClass:"bank-divider"},[t._v("|")]),t._v(" "),t.bankInfo.propaganda?a("span",{staticClass:"rights"},[t._v(t._s(t.bankInfo.propaganda))]):t._e()]),t._v(" "),a("div",{staticClass:"tag-class"},[t.bankInfo.tag1?a("span",{staticClass:"tag1"},[t._v(t._s(t.bankInfo.tag1))]):t._e(),t._v(" "),t.bankInfo.tag2?a("span",{staticClass:"tag2"},[t._v(t._s(t.bankInfo.tag2))]):t._e(),t._v(" "),t.bankInfo.tag3?a("span",{staticClass:"tag3"},[t._v(t._s(t.bankInfo.tag3))]):t._e()])])]),t._v(" "),t.showMid?a("div",{staticClass:"mid-class"},[a("card-info-segment",{attrs:{desc:t.bankInfo.categoryName1,imgSrc:t.baseRightsImgSrc,htmlContent:t.bankInfo.categoryContent1}}),t._v(" "),a("card-info-segment",{attrs:{desc:t.bankInfo.categoryName2,imgSrc:t.baseRebateImgSrc,htmlContent:t.bankInfo.categoryContent2}})],1):t._e(),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"apply-class",on:{click:t.actionApply}},[t._v("\n        立即申请\n    ")]),t._v(" "),a("card-info-dialog",{attrs:{dialogTitle:"办卡预登记",dialogVisible:t.dialogPhoneVisible},on:{"update:dialogVisible":function(e){t.dialogPhoneVisible=e},defaultClick:t.defaultClick,primaryClick:t.phoneClick}},[a("div",{staticClass:"d-content-phone"},[a("span",[t._v("请输入您申请信用卡的手机号码")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneNo,expression:"phoneNo"}],staticClass:"weui-input",attrs:{type:"tel",placeholder:"请输入手机号"},domProps:{value:t.phoneNo},on:{input:function(e){e.target.composing||(t.phoneNo=e.target.value)}}})]),t._v(" "),a("table",{staticClass:"protocol-content"},[a("p",{staticClass:"check-box-bg",on:{click:t.tapCheckBox}},[a("img",{staticClass:"check-box",attrs:{src:t.checkBoxImg}})]),t._v(" "),a("span",{staticClass:"protocol-agreement"},[t._v("返利说明:此返利仅限首次申请该行信用卡用户")])])]),t._v(" "),a("card-info-dialog",{attrs:{dialogTitle:"办卡预登记",dialogVisible:t.dialogSmsVisible},on:{"update:dialogVisible":function(e){t.dialogSmsVisible=e},defaultClick:t.defaultClick,primaryClick:t.smsClick}},[a("div",{staticClass:"d-content-sms"},[a("span",[t._v("请输入您申请信用卡的手机号码")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneNo,expression:"phoneNo"}],staticClass:"weui-input input-sms",attrs:{type:"tel",placeholder:"请输入手机号"},domProps:{value:t.phoneNo},on:{input:function(e){e.target.composing||(t.phoneNo=e.target.value)}}}),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.verifyCode,expression:"verifyCode"}],staticClass:"weui-input",attrs:{type:"tel",placeholder:"请输入图形验证码"},domProps:{value:t.verifyCode},on:{input:function(e){e.target.composing||(t.verifyCode=e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.verifyImg,expression:"!verifyImg"}],staticClass:"get-verify-btn",on:{click:t.getVerifyImg}},[t._v("获取图形验证码")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.verifyImg,expression:"verifyImg"}],staticClass:"verify-img",on:{click:t.getVerifyImg}},[a("img",{attrs:{src:t.verifyImg,alt:"单击图片刷新"}})])]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.smsCode,expression:"smsCode"}],staticClass:"weui-input",attrs:{type:"tel",placeholder:"请输入短信验证码"},domProps:{value:t.smsCode},on:{input:function(e){e.target.composing||(t.smsCode=e.target.value)}}}),t._v(" "),a("span",{staticClass:"get-verify-btn",on:{click:t.getSmsCode}},[t._v(t._s(t.countDownStr))])])])])],1)},[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flow-class"},[a("div",[a("img",{attrs:{src:"/static/images/process-icon.png"}}),t._v(" "),a("span",[t._v("返利流程")])]),t._v(" "),a("div",{staticClass:"flow-step"},[a("img",{attrs:{src:"/static/images/apply.png"}}),t._v(" "),a("img",{attrs:{src:"/static/images/next.png"}}),t._v(" "),a("img",{attrs:{src:"/static/images/write.png"}}),t._v(" "),a("img",{attrs:{src:"/static/images/next.png"}}),t._v(" "),a("img",{attrs:{src:"/static/images/great.png"}}),t._v(" "),a("img",{attrs:{src:"/static/images/next.png"}}),t._v(" "),a("img",{attrs:{src:"/static/images/get.png"}})]),t._v(" "),a("div",{staticClass:"flow-step-text"},[a("span",[t._v("申请卡片")]),t._v(" "),a("span",[t._v("官网填写")]),t._v(" "),a("span",[t._v("成功办卡")]),t._v(" "),a("span",[t._v("获得返利")])])])}],!1,p,"data-v-1303db00",null);e.default=m.exports},TTjy:function(t,e){},mhok:function(t,e){}});
//# sourceMappingURL=12.7ca9dcff7f8de2ec2e2a.js.map