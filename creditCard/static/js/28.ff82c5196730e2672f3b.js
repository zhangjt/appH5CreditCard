webpackJsonp([28],{"70vr":function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("Dd8w"),o=e.n(a),r=e("NYxO"),n=e("L6bb"),i=e.n(n),c=e("7pK0"),l={name:"login",data:function(){return{title:"密码登录",passform:{username:localStorage.getItem("caiPhone"),password:""}}},computed:{btnDisabled:{get:function(){return!this.passform.username}}},methods:o()({},Object(r.b)(["getUserInfo"]),Object(r.c)(["SETLOGINSTATE"]),{toLogin:function(s){var t=this;this.$http.toLogin(s).then(function(s){s&&s.phone?(t.SETLOGINSTATE({loginState:!0}),setTimeout(function(){t.getUserInfo();var s=t.$route.query.redirected;s?t.$router.push({path:s}):t.$router.go(-1)},500)):s.statusMsg&&t.$toast(s.statusMsg)})},checkForm:function(s){localStorage.setItem("caiPhone",this.passform.username||"");var t=c.a.validatePhoneNumber(this.passform.username);if(""===t)if(this.passform.password){var e={phone:this.passform.username,password:i()(this.passform.password),type:0,channel:"wapzc"};this.toLogin(e)}else this.$toast("密码不能为空");else this.$toast(t);s.preventDefault()}})},u=e("XyMi");var m=function(s){e("wt4b")},p=Object(u.a)(l,function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"login"},[e("form",{staticClass:"login-form",attrs:{action:""},on:{submit:s.checkForm},model:{value:s.passform,callback:function(t){s.passform=t},expression:"passform"}},[e("mt-field",{staticClass:"phone",attrs:{placeholder:"请输入手机号码",type:"tel"},model:{value:s.passform.username,callback:function(t){s.$set(s.passform,"username",t)},expression:"passform.username"}}),s._v(" "),e("mt-field",{staticClass:"password",attrs:{placeholder:"请输入登录密码",type:"password"},model:{value:s.passform.password,callback:function(t){s.$set(s.passform,"password",t)},expression:"passform.password"}}),s._v(" "),e("div",{staticClass:"btn-module"},[e("div",{staticClass:"btn-margin"},[e("mt-button",{staticClass:"common-btn",attrs:{disabled:s.btnDisabled}},[s._v("登录")])],1)])],1),s._v(" "),e("router-link",{staticClass:"forget",attrs:{to:"/user/forgetPassword"}},[s._v("忘记密码")])],1)},[],!1,m,"data-v-b4b412ca",null);t.default=p.exports},wt4b:function(s,t){}});
//# sourceMappingURL=28.ff82c5196730e2672f3b.js.map